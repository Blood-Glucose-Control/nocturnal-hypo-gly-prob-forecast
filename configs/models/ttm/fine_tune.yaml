# =============================================================================
# TTM (TinyTimeMixer) - Fine-Tuning Configuration
# =============================================================================
# Optimized for fine-tuning a pre-trained TTM model on glucose data.
# Uses lower learning rate and moderate epochs.
#
# Usage:
#   MODEL_CONFIG="configs/models/ttm/fine_tune.yaml" ./scripts/examples/run_holdout_generic_workflow.sh
# =============================================================================

model_path: "ibm-granite/granite-timeseries-ttm-r2"
context_length: 512
forecast_length: 96

training_mode: "fine_tune"
freeze_backbone: false
learning_rate: 1.0e-4
batch_size: 4096
num_epochs: 200
warmup_steps: 1000
weight_decay: 0.01

input_features:
  - cob
  - carb_availability
  - insulin_availability
  - iob
  - steps

target_features:
  - bg_mM

scaler_type: "standard"
resolution_min: 5

split_config:
  train: 0.9
  val: 0.05
  test: 0.05

num_input_channels: 5
num_output_channels: 1

fp16: true
loss_function: "mse"
